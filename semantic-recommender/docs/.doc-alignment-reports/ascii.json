{
  "total_detected": 55,
  "high_confidence": 55,
  "by_type": {
    "flowchart": 17,
    "architecture": 14,
    "system": 10,
    "sequence": 14
  },
  "ascii_diagrams": [
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 18,
      "end_line": 20,
      "diagram_type": "flowchart",
      "original": "- 50% reduction in operational complexity (4 \u2192 2 systems)\n- 18% cost savings ($840/month \u2192 $690/month at 7,000 QPS)\n- Minimal performance degradation (<5ms additional latency)",
      "mermaid": "flowchart LR",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 195,
      "end_line": 199,
      "diagram_type": "flowchart",
      "original": "  \u2192 Query latency: 15ms \u2192 20ms (+5ms cache miss penalty)\n\nOption 2: Neo4j + Redis\n  \u2192 Query latency: 15ms (cache hit), 18ms (cache miss)\n  \u2192 Complexity: Still 2 systems",
      "mermaid": "flowchart LR",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 215,
      "end_line": 218,
      "diagram_type": "architecture",
      "original": "    \u251c\u2500> Milvus (vector search)\n    \u251c\u2500> Neo4j (graph)\n    \u251c\u2500> PostgreSQL (AgentDB)\n    \u2514\u2500> Redis (cache)",
      "mermaid": "graph TD",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 243,
      "end_line": 245,
      "diagram_type": "architecture",
      "original": "    \u2514\u2500> Neo4j (all workloads)\n```\n",
      "mermaid": "graph TD",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 261,
      "end_line": 263,
      "diagram_type": "flowchart",
      "original": "  \u251c\u2500> Milvus: 8.7ms \u2192 Neo4j vectors: 20ms (+11.3ms)\n  \u251c\u2500> Redis cache: 0.5ms \u2192 Neo4j cache: 3ms (+2.5ms)\n  \u2514\u2500> Total: 15ms \u2192 28ms (+13ms, 87% increase)",
      "mermaid": "flowchart LR",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 278,
      "end_line": 280,
      "diagram_type": "system",
      "original": "    \u251c\u2500> Milvus (vector search, GPU-accelerated)\n    \u2514\u2500> Neo4j (graph + AgentDB + cache)\n```",
      "mermaid": "graph TD",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 283,
      "end_line": 285,
      "diagram_type": "flowchart",
      "original": "- PostgreSQL \u2192 Neo4j (AgentDB state as graph nodes)\n- Redis \u2192 Neo4j (page cache + query cache)\n",
      "mermaid": "flowchart LR",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 287,
      "end_line": 289,
      "diagram_type": "system",
      "original": "- \u2705 50% reduction in systems (4 \u2192 2)\n- \u2705 Maintains GPU acceleration for vectors\n- \u2705 Moderate complexity reduction",
      "mermaid": "graph TD",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 293,
      "end_line": 295,
      "diagram_type": "flowchart",
      "original": "- \u26a0\ufe0f 3-5ms latency increase (Redis \u2192 Neo4j cache)\n- \u26a0\ufe0f Still 2 systems to manage\n- \u26a0\ufe0f Migration effort for AgentDB",
      "mermaid": "flowchart LR",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 300,
      "end_line": 303,
      "diagram_type": "flowchart",
      "original": "  \u251c\u2500> Milvus: 8.7ms \u2192 Unchanged\n  \u251c\u2500> Redis cache: 0.5ms \u2192 Neo4j cache: 3ms (+2.5ms)\n  \u251c\u2500> AgentDB: 5ms \u2192 Neo4j graph: 7ms (+2ms)\n  \u2514\u2500> Total: 15ms \u2192 19.5ms (+4.5ms, 30% increase)",
      "mermaid": "flowchart LR",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 318,
      "end_line": 320,
      "diagram_type": "architecture",
      "original": "    \u251c\u2500> Neo4j (graph + vectors + AgentDB)\n    \u2514\u2500> Redis (cache only)\n```",
      "mermaid": "graph TD",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 323,
      "end_line": 325,
      "diagram_type": "flowchart",
      "original": "- Milvus \u2192 Neo4j (vector index)\n- PostgreSQL \u2192 Neo4j (AgentDB state)\n",
      "mermaid": "flowchart LR",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 327,
      "end_line": 329,
      "diagram_type": "flowchart",
      "original": "- \u2705 50% reduction in systems (4 \u2192 2)\n- \u2705 Sub-ms caching preserved\n- \u2705 Simplified vector+graph queries",
      "mermaid": "flowchart LR",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 339,
      "end_line": 341,
      "diagram_type": "flowchart",
      "original": "  \u251c\u2500> Milvus: 8.7ms \u2192 Neo4j vectors: 20ms (+11.3ms)\n  \u251c\u2500> Redis cache: 0.5ms \u2192 Unchanged\n  \u2514\u2500> Total: 15ms \u2192 26.3ms (+11.3ms, 75% increase)",
      "mermaid": "flowchart LR",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 394,
      "end_line": 400,
      "diagram_type": "architecture",
      "original": "Request \u2192 API Gateway (1ms)\n  \u251c\u2500> Embedding Generation (3ms)\n  \u251c\u2500> Routing (0.1ms)\n  \u251c\u2500> Milvus Vector Search (8.7ms)\n  \u251c\u2500> Neo4j Graph Enrichment (2ms)\n  \u251c\u2500> AgentDB RL Reranking (5ms)\n  \u2514\u2500> Redis Cache Check (0.5ms)",
      "mermaid": "graph TD",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 406,
      "end_line": 412,
      "diagram_type": "architecture",
      "original": "Request \u2192 API Gateway (1ms)\n  \u251c\u2500> Embedding Generation (3ms)\n  \u251c\u2500> Routing (0.1ms)\n  \u251c\u2500> Neo4j Vector Search (20ms) \u26a0\ufe0f\n  \u251c\u2500> Neo4j Graph Enrichment (2ms)\n  \u251c\u2500> Neo4j RL Reranking (7ms) \u26a0\ufe0f\n  \u2514\u2500> Neo4j Cache (3ms) \u26a0\ufe0f",
      "mermaid": "graph TD",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 418,
      "end_line": 424,
      "diagram_type": "architecture",
      "original": "Request \u2192 API Gateway (1ms)\n  \u251c\u2500> Embedding Generation (3ms)\n  \u251c\u2500> Routing (0.1ms)\n  \u251c\u2500> Milvus Vector Search (8.7ms) \u2705\n  \u251c\u2500> Neo4j Graph Enrichment (2ms)\n  \u251c\u2500> Neo4j RL Reranking (7ms) \u26a0\ufe0f\n  \u2514\u2500> Neo4j Cache (3ms) \u26a0\ufe0f",
      "mermaid": "graph TD",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 490,
      "end_line": 492,
      "diagram_type": "flowchart",
      "original": "| **PostgreSQL \u2192 Neo4j** | 15-20 | Medium | 10M user states | AgentDB queries | 5 days |\n| **Redis \u2192 Neo4j** | 8-12 | Low | Cache rebuild | Cache layer logic | 3 days |\n| **Milvus \u2192 Neo4j** | 25-35 | High | 100M vectors | Vector search queries | 10 days |",
      "mermaid": "flowchart LR",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 498,
      "end_line": 502,
      "diagram_type": "sequence",
      "original": "Phase 1: PostgreSQL \u2192 Neo4j (15 days)\n  \u251c\u2500> Schema mapping (user_states \u2192 :User-[:HAS_STATE]->:RLState)\n  \u251c\u2500> Data pipeline (10M records)\n  \u251c\u2500> Query rewrite (SQL \u2192 Cypher)\n  \u2514\u2500> Integration testing",
      "mermaid": "sequenceDiagram\n    participant User\n    participant System",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 504,
      "end_line": 509,
      "diagram_type": "system",
      "original": "Phase 2: Milvus \u2192 Neo4j (30 days)\n  \u251c\u2500> Vector index creation (100M vectors)\n  \u251c\u2500> Embedding migration (2TB data)\n  \u251c\u2500> HNSW tuning (ef, M parameters)\n  \u251c\u2500> Performance validation\n  \u2514\u2500> Fallback strategy (GPU \u2192 CPU)",
      "mermaid": "graph TD",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 511,
      "end_line": 515,
      "diagram_type": "sequence",
      "original": "Phase 3: Redis \u2192 Neo4j (10 days)\n  \u251c\u2500> Cache layer refactor\n  \u251c\u2500> Page cache tuning\n  \u251c\u2500> TTL policy implementation\n  \u2514\u2500> Load testing",
      "mermaid": "sequenceDiagram\n    participant User\n    participant System",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 522,
      "end_line": 525,
      "diagram_type": "sequence",
      "original": "Phase 1: PostgreSQL \u2192 Neo4j (15 days)\n  (same as Option B)\n\nPhase 2: Redis \u2192 Neo4j (10 days)",
      "mermaid": "sequenceDiagram\n    participant User\n    participant System",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 533,
      "end_line": 535,
      "diagram_type": "sequence",
      "original": "Phase 1: PostgreSQL \u2192 Neo4j (15 days)\nPhase 2: Milvus \u2192 Neo4j (30 days)\n",
      "mermaid": "sequenceDiagram\n    participant User\n    participant System",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 568,
      "end_line": 570,
      "diagram_type": "flowchart",
      "original": "**100M \u2192 1B Vectors**:\n\n| System | Current Scale | 10\u00d7 Scale | Risk |",
      "mermaid": "flowchart LR",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 631,
      "end_line": 633,
      "diagram_type": "flowchart",
      "original": "2. **Cost**: 35% total cost reduction ($7,190 \u2192 $4,670/month)\n3. **Complexity**: 50% system reduction (4 \u2192 2 databases)\n4. **Migration Risk**: Medium (2 systems to migrate, 25-30 days)",
      "mermaid": "flowchart LR",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 639,
      "end_line": 655,
      "diagram_type": "architecture",
      "original": "\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                  API GATEWAY                        \u2502\n\u2502              (Actix-web + MCP)                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                   \u2502\n        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n        \u2502                        \u2502\n        \u25bc                        \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502     MILVUS       \u2502    \u2502       NEO4J          \u2502\n\u2502  Vector Search   \u2502    \u2502   (Unified Store)    \u2502\n\u2502                  \u2502    \u2502                      \u2502\n\u2502 \u2022 100M vectors   \u2502    \u2502 \u2022 Knowledge Graph    \u2502\n\u2502 \u2022 GPU-accelerated\u2502    \u2502 \u2022 AgentDB State      \u2502\n\u2502 \u2022 HNSW + INT8    \u2502    \u2502 \u2022 Page Cache         \u2502\n\u2502 \u2022 8.7ms p95      \u2502    \u2502 \u2022 Query Cache        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518",
      "mermaid": "graph TD\n    A0[\"API GATEWAY\"]\n    A1[\"(Actix-web + MCP)\"]\n    A0 --> A1\n    A2[\"MILVUS\"]\n    A1 --> A2\n    A3[\"NEO4J\"]\n    A2 --> A3\n    A4[\"Vector Search\"]\n    A3 --> A4\n    A5[\"(Unified Store)\"]\n    A4 --> A5\n    A6[\"\u2502\"]\n    A5 --> A6\n    A7[\"\u2022 100M vectors\"]\n    A6 --> A7\n    A8[\"\u2022 Knowledge Graph\"]\n    A7 --> A8\n    A9[\"\u2022 GPU-accelerated\"]\n    A8 --> A9\n    A10[\"\u2022 AgentDB State\"]\n    A9 --> A10\n    A11[\"\u2022 HNSW + INT8\"]\n    A10 --> A11\n    A12[\"\u2022 Page Cache\"]\n    A11 --> A12\n    A13[\"\u2022 8.7ms p95\"]\n    A12 --> A13\n    A14[\"\u2022 Query Cache\"]\n    A13 --> A14",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 719,
      "end_line": 721,
      "diagram_type": "sequence",
      "original": "### 10.1 Phase 1: PostgreSQL \u2192 Neo4j (Weeks 1-3)\n\n**Week 1: Schema Design**",
      "mermaid": "sequenceDiagram\n    participant User\n    participant System",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 742,
      "end_line": 744,
      "diagram_type": "flowchart",
      "original": "  \u2713 Rewrite AgentDB queries (SQL \u2192 Cypher)\n  \u2713 Update connection pooling (neo4rs driver)\n  \u2713 Integration testing (unit + E2E)",
      "mermaid": "flowchart LR",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 748,
      "end_line": 750,
      "diagram_type": "sequence",
      "original": "### 10.2 Phase 2: Redis \u2192 Neo4j (Weeks 4-5)\n\n**Week 4: Cache Layer Refactor**",
      "mermaid": "sequenceDiagram\n    participant User\n    participant System",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 773,
      "end_line": 775,
      "diagram_type": "flowchart",
      "original": "2. Gradual traffic shift (10% \u2192 50% \u2192 100%)\n3. Monitor metrics (latency, error rate, CPU/memory)\n4. Rollback trigger: p95 latency >25ms or error rate >1%",
      "mermaid": "flowchart LR",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 856,
      "end_line": 858,
      "diagram_type": "sequence",
      "original": "4. Begin Phase 1 (PostgreSQL \u2192 Neo4j)\n\n**Contact**: System Architecture Team",
      "mermaid": "sequenceDiagram\n    participant User\n    participant System",
      "confidence": 0.95
    },
    {
      "file": "ARCHITECTURE.md",
      "start_line": 104,
      "end_line": 207,
      "diagram_type": "architecture",
      "original": "\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                        EXTERNAL SYSTEMS                                 \u2502\n\u2502                                                                         \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                \u2502\n\u2502  \u2502   Content    \u2502  \u2502    User      \u2502  \u2502   AI Agents  \u2502                \u2502\n\u2502  \u2502  Providers   \u2502  \u2502 Applications \u2502  \u2502 (Claude/etc) \u2502                \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                \u2502\n\u2502         \u2502                 \u2502                  \u2502                         \u2502\n\u2502         \u2502 Metadata        \u2502 Queries          \u2502 MCP Protocol            \u2502\n\u2502         \u2502 Ingestion       \u2502 (REST/GraphQL)   \u2502 (JSON-RPC)             \u2502\n\u2502         \u2502                 \u2502                  \u2502                         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n          \u2502                 \u2502                  \u2502\n          \u25bc                 \u25bc                  \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                     API GATEWAY LAYER                                   \u2502\n\u2502                                                                         \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510           \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510              \u2502\n\u2502  \u2502   REST API Server  \u2502           \u2502   MCP Server       \u2502              \u2502\n\u2502  \u2502  (Actix-web/Axum)  \u2502           \u2502  (JSON-RPC 2.0)    \u2502              \u2502\n\u2502  \u2502                    \u2502           \u2502                    \u2502              \u2502\n\u2502  \u2502 \u2022 Authentication   \u2502           \u2502 \u2022 Tool Discovery   \u2502              \u2502\n\u2502  \u2502 \u2022 Rate Limiting    \u2502           \u2502 \u2022 Streaming        \u2502              \u2502\n\u2502  \u2502 \u2022 Request Routing  \u2502           \u2502 \u2022 Context Mgmt     \u2502              \u2502\n\u2502  \u2502 \u2022 Response Cache   \u2502           \u2502 \u2022 Error Handling   \u2502              \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518           \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518              \u2502\n\u2502            \u2502                                 \u2502                         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n             \u2502                                 \u2502\n             \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                          \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                ORCHESTRATION & ROUTING LAYER                            \u2502\n\u2502                                                                         \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502              Query Analyzer & Router                             \u2502  \u2502\n\u2502  \u2502                                                                  \u2502  \u2502\n\u2502  \u2502  \u2022 Complexity Analysis (O(log n) vs O(n) vs O(n\u00b2))             \u2502  \u2502\n\u2502  \u2502  \u2022 Resource Estimation (GPU memory, disk I/O)                   \u2502  \u2502\n\u2502  \u2502  \u2022 Path Selection (GPU / Vector DB / Hybrid)                    \u2502  \u2502\n\u2502  \u2502  \u2022 Load Balancing (Multi-GPU, DB shards)                        \u2502  \u2502\n\u2502  \u2502  \u2022 Fallback Strategy (GPU OOM \u2192 Vector DB)                      \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2502                             \u2502                                           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                              \u2502\n                \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                \u2502                            \u2502\n                \u25bc                            \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502      GPU ENGINE LAYER      \u2502  \u2502  VECTOR DATABASE LAYER       \u2502\n\u2502      (CUDA Kernels)        \u2502  \u2502  (Qdrant / Milvus)           \u2502\n\u2502                            \u2502  \u2502                              \u2502\n\u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502  \u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502 \u2502 Semantic Similarity    \u2502 \u2502  \u2502 \u2502 HNSW Index               \u2502 \u2502\n\u2502 \u2502 \u2022 Tensor Cores (FP16)  \u2502 \u2502  \u2502 \u2502 \u2022 M=32, efConstruction   \u2502 \u2502\n\u2502 \u2502 \u2022 Memory Coalescing    \u2502 \u2502  \u2502 \u2502 \u2022 Product Quantization   \u2502 \u2502\n\u2502 \u2502 \u2022 Shared Memory Cache  \u2502 \u2502  \u2502 \u2502 \u2022 Disk-backed Storage    \u2502 \u2502\n\u2502 \u2502 \u2022 280 GB/s Bandwidth   \u2502 \u2502  \u2502 \u2502 \u2022 Horizontal Sharding    \u2502 \u2502\n\u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502  \u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2502                            \u2502  \u2502                              \u2502\n\u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502  \u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502 \u2502 Adaptive SSSP Engine   \u2502 \u2502  \u2502 \u2502 Metadata Filtering       \u2502 \u2502\n\u2502 \u2502 \u2022 GPU Dijkstra (<10K)  \u2502 \u2502  \u2502 \u2502 \u2022 Inverted Indices       \u2502 \u2502\n\u2502 \u2502 \u2022 Duan SSSP (>10M)     \u2502 \u2502  \u2502 \u2502 \u2022 Range Queries          \u2502 \u2502\n\u2502 \u2502 \u2022 Auto crossover       \u2502 \u2502  \u2502 \u2502 \u2022 Faceted Search         \u2502 \u2502\n\u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502  \u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2502                            \u2502  \u2502                              \u2502\n\u2502 Memory: 16GB VRAM          \u2502  \u2502 Storage: 1TB+ Disk           \u2502\n\u2502 Latency: <10ms             \u2502  \u2502 Latency: 20-100ms            \u2502\n\u2502 Scale: 1M vectors          \u2502  \u2502 Scale: 100M+ vectors         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n             \u2502                               \u2502\n             \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                         \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                  SEMANTIC ENRICHMENT LAYER                              \u2502\n\u2502                                                                         \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502\n\u2502  \u2502               Knowledge Graph (Neo4j)                          \u2502    \u2502\n\u2502  \u2502                                                                \u2502    \u2502\n\u2502  \u2502  \u2022 GMC-O Ontology (Extended)                                  \u2502    \u2502\n\u2502  \u2502  \u2022 Entity Relationships (hasGenre, isPartOf, etc.)            \u2502    \u2502\n\u2502  \u2502  \u2022 APOC Procedures (Graph Algorithms)                         \u2502    \u2502\n\u2502  \u2502  \u2022 Cypher Queries (Pattern Matching)                          \u2502    \u2502\n\u2502  \u2502  \u2022 Inference Rules (OWL Reasoning)                            \u2502    \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502\n\u2502                                                                         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                              \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              PERSONALIZATION & LEARNING LAYER                           \u2502\n\u2502                                                                         \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502\n\u2502  \u2502        Reinforcement Learning Agent (AgentDB)                  \u2502    \u2502\n\u2502  \u2502                                                                \u2502    \u2502\n\u2502  \u2502  \u2022 Thompson Sampling (Contextual Bandits)                     \u2502    \u2502\n\u2502  \u2502  \u2022 User Context Embeddings (session, history, preferences)    \u2502    \u2502\n\u2502  \u2502  \u2022 Exploration/Exploitation Balance (\u03b5-greedy)                \u2502    \u2502\n\u2502  \u2502  \u2022 Experience Replay & Distillation                           \u2502    \u2502\n\u2502  \u2502  \u2022 Cold-Start Handling (5-10 interactions)                    \u2502    \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502\n\u2502                                                                         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518",
      "mermaid": "graph TD\n    A0[\"EXTERNAL SYSTEMS\"]\n    A1[\"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\"]\n    A0 --> A1\n    A2[\"\u2502   Content\"]\n    A1 --> A2\n    A3[\"User\"]\n    A2 --> A3\n    A4[\"AI Agents\"]\n    A3 --> A4\n    A5[\"\u2502  Providers\"]\n    A4 --> A5\n    A6[\"Applications\"]\n    A5 --> A6\n    A7[\"(Claude/etc)\"]\n    A6 --> A7\n    A8[\"\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\"]\n    A7 --> A8\n    A9[\"\u2502\"]\n    A8 --> A9\n    A10[\"\u2502 Metadata\"]\n    A9 --> A10\n    A11[\"MCP Protocol\"]\n    A10 --> A11\n    A12[\"\u2502 Ingestion\"]\n    A11 --> A12\n    A13[\"(JSON-RPC)\"]\n    A12 --> A13\n    A16[\"API GATEWAY LAYER\"]\n    A15 --> A16\n    A17[\"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510           \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\"]\n    A16 --> A17\n    A18[\"\u2502   REST API Server\"]\n    A17 --> A18\n    A19[\"MCP Server\"]\n    A18 --> A19\n    A20[\"\u2502  (Actix-web/Axum)\"]\n    A19 --> A20\n    A21[\"(JSON-RPC 2.0)\"]\n    A20 --> A21\n    A24[\"\u2502 \u2022 Authentication\"]\n    A23 --> A24\n    A25[\"\u2022 Tool Discovery\"]\n    A24 --> A25\n    A26[\"\u2502 \u2022 Rate Limiting\"]\n    A25 --> A26\n    A27[\"\u2022 Streaming\"]\n    A26 --> A27\n    A28[\"\u2502 \u2022 Request Routing\"]\n    A27 --> A28\n    A29[\"\u2022 Context Mgmt\"]\n    A28 --> A29\n    A30[\"\u2502 \u2022 Response Cache\"]\n    A29 --> A30\n    A31[\"\u2022 Error Handling\"]\n    A30 --> A31\n    A32[\"\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518           \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\"]\n    A31 --> A32\n    A34[\"ORCHESTRATION & ROUTING LAYER\"]\n    A33 --> A34\n    A35[\"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\"]\n    A34 --> A35\n    A36[\"\u2502              Query Analyzer & Router\"]\n    A35 --> A36\n    A38[\"\u2502  \u2022 Complexity Analysis (O(log n) vs O(n) vs O(n\u00b2))\"]\n    A37 --> A38\n    A39[\"\u2502  \u2022 Resource Estimation (GPU memory, disk I/O)\"]\n    A38 --> A39\n    A40[\"\u2502  \u2022 Path Selection (GPU / Vector DB / Hybrid)\"]\n    A39 --> A40\n    A41[\"\u2502  \u2022 Load Balancing (Multi-GPU, DB shards)\"]\n    A40 --> A41\n    A42[\"\u2502  \u2022 Fallback Strategy (GPU OOM \u2192 Vector DB)\"]\n    A41 --> A42\n    A43[\"\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\"]\n    A42 --> A43\n    A45[\"GPU ENGINE LAYER\"]\n    A44 --> A45\n    A46[\"VECTOR DATABASE LAYER\"]\n    A45 --> A46\n    A47[\"(CUDA Kernels)\"]\n    A46 --> A47\n    A48[\"(Qdrant / Milvus)\"]\n    A47 --> A48\n    A50[\"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\"]\n    A49 --> A50\n    A51[\"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\"]\n    A50 --> A51\n    A52[\"\u2502 Semantic Similarity\"]\n    A51 --> A52\n    A54[\"\u2502 \u2022 Tensor Cores (FP16)\"]\n    A53 --> A54\n    A56[\"\u2502 \u2022 Memory Coalescing\"]\n    A55 --> A56\n    A58[\"\u2502 \u2022 Shared Memory Cache\"]\n    A57 --> A58\n    A60[\"\u2502 \u2022 280 GB/s Bandwidth\"]\n    A59 --> A60\n    A62[\"\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\"]\n    A61 --> A62\n    A63[\"\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\"]\n    A62 --> A63\n    A67[\"\u2502 Adaptive SSSP Engine\"]\n    A66 --> A67\n    A69[\"\u2502 \u2022 GPU Dijkstra (<10K)\"]\n    A68 --> A69\n    A71[\"\u2502 \u2022 Duan SSSP (>10M)\"]\n    A70 --> A71\n    A73[\"\u2502 \u2022 Auto crossover\"]\n    A72 --> A73\n    A78[\"Memory: 16GB VRAM\"]\n    A77 --> A78\n    A79[\"Storage: 1TB+ Disk\"]\n    A78 --> A79\n    A80[\"Latency: <10ms\"]\n    A79 --> A80\n    A81[\"Latency: 20-100ms\"]\n    A80 --> A81\n    A82[\"Scale: 1M vectors\"]\n    A81 --> A82\n    A83[\"Scale: 100M+ vectors\"]\n    A82 --> A83\n    A84[\"SEMANTIC ENRICHMENT LAYER\"]\n    A83 --> A84\n    A85[\"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\"]\n    A84 --> A85\n    A86[\"\u2502               Knowledge Graph (Neo4j)\"]\n    A85 --> A86\n    A88[\"\u2502  \u2022 GMC-O Ontology (Extended)\"]\n    A87 --> A88\n    A89[\"\u2502  \u2022 Entity Relationships (hasGenre, isPartOf, etc.)\"]\n    A88 --> A89\n    A90[\"\u2502  \u2022 APOC Procedures (Graph Algorithms)\"]\n    A89 --> A90\n    A91[\"\u2502  \u2022 Cypher Queries (Pattern Matching)\"]\n    A90 --> A91\n    A92[\"\u2502  \u2022 Inference Rules (OWL Reasoning)\"]\n    A91 --> A92\n    A93[\"\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\"]\n    A92 --> A93\n    A94[\"PERSONALIZATION & LEARNING LAYER\"]\n    A93 --> A94\n    A96[\"\u2502        Reinforcement Learning Agent (AgentDB)\"]\n    A95 --> A96\n    A98[\"\u2502  \u2022 Thompson Sampling (Contextual Bandits)\"]\n    A97 --> A98\n    A99[\"\u2502  \u2022 User Context Embeddings (session, history, preferences)\"]\n    A98 --> A99\n    A100[\"\u2502  \u2022 Exploration/Exploitation Balance (\u03b5-greedy)\"]\n    A99 --> A100\n    A101[\"\u2502  \u2022 Experience Replay & Distillation\"]\n    A100 --> A101\n    A102[\"\u2502  \u2022 Cold-Start Handling (5-10 interactions)\"]\n    A101 --> A102",
      "confidence": 0.95
    },
    {
      "file": "ARCHITECTURE.md",
      "start_line": 303,
      "end_line": 322,
      "diagram_type": "system",
      "original": "    \u251c\u2500> Parse & Validate\n    \u2502   \u2514\u2500> Extract: [text, filters, limit, threshold]\n    \u2502\n    \u251c\u2500> Complexity Analysis\n    \u2502   \u251c\u2500> Candidate Set Size Estimation\n    \u2502   \u2502   \u2514\u2500> Filter Selectivity \u00d7 Total Items\n    \u2502   \u251c\u2500> Semantic Complexity\n    \u2502   \u2502   \u2514\u2500> Multi-modal? Graph traversal? RL reranking?\n    \u2502   \u2514\u2500> Resource Requirements\n    \u2502       \u2514\u2500> GPU Memory, Disk I/O, Compute Time\n    \u2502\n    \u2514\u2500> Path Selection\n        \u251c\u2500> GPU Path (candidates < 10K && GPU available)\n        \u2502   \u2514\u2500> Load \u2192 GPU Kernel \u2192 Results [<10ms]\n        \u2502\n        \u251c\u2500> Vector DB Path (candidates > 100K)\n        \u2502   \u2514\u2500> HNSW Search \u2192 Filter \u2192 Results [20-100ms]\n        \u2502\n        \u2514\u2500> Hybrid Path (10K < candidates < 100K)\n            \u2514\u2500> VectorDB (coarse) \u2192 GPU (rerank) [15-50ms]",
      "mermaid": "graph TD",
      "confidence": 0.95
    },
    {
      "file": "ARCHITECTURE.md",
      "start_line": 387,
      "end_line": 389,
      "diagram_type": "sequence",
      "original": "**Performance**: 10\u00d7 speedup (2.5 TFLOPS \u2192 25 TFLOPS)\n\n**Phase 2: Memory Coalescing**",
      "mermaid": "sequenceDiagram\n    participant User\n    participant System",
      "confidence": 0.95
    },
    {
      "file": "ARCHITECTURE.md",
      "start_line": 423,
      "end_line": 425,
      "diagram_type": "system",
      "original": "**Performance**: 5\u00d7 additional speedup (60 GB/s \u2192 280 GB/s)\n\n**Cumulative GPU Speedup**: 10\u00d7 \u00d7 5\u00d7 = **50\u00d7 faster than CPU baseline**",
      "mermaid": "graph TD",
      "confidence": 0.95
    },
    {
      "file": "ARCHITECTURE.md",
      "start_line": 581,
      "end_line": 583,
      "diagram_type": "flowchart",
      "original": "**Performance**: 33\u00d7 faster constraint validation (850ms \u2192 24ms)\n\n---",
      "mermaid": "flowchart LR",
      "confidence": 0.95
    },
    {
      "file": "ARCHITECTURE.md",
      "start_line": 704,
      "end_line": 706,
      "diagram_type": "sequence",
      "original": "\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 PHASE 1: REQUEST INGESTION (1-2ms)                                     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518",
      "mermaid": "sequenceDiagram\n    participant User\n    participant System\n    User->>System: PHASE 1: REQUEST INGESTION (1-2ms)",
      "confidence": 0.95
    },
    {
      "file": "ARCHITECTURE.md",
      "start_line": 708,
      "end_line": 714,
      "diagram_type": "architecture",
      "original": "    \u2193\n  [API Gateway]\n    \u251c\u2500> Authentication & Authorization (JWT)\n    \u251c\u2500> Rate Limiting (1000 RPS per user)\n    \u251c\u2500> Request Validation (JSON Schema)\n    \u2514\u2500> Query Parsing\n          \u2193",
      "mermaid": "graph TD",
      "confidence": 0.95
    },
    {
      "file": "ARCHITECTURE.md",
      "start_line": 722,
      "end_line": 728,
      "diagram_type": "sequence",
      "original": "\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 PHASE 2: EMBEDDING GENERATION (2-5ms)                                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n  Text \u2192 Embedding Model (Sentence Transformer)\n    \u2193\n  [768-dim] \u2192 [1024-dim projection] (normalize + project)\n    \u2193",
      "mermaid": "sequenceDiagram\n    participant User\n    participant System\n    User->>System: PHASE 2: EMBEDDING GENERATION (2-5ms)",
      "confidence": 0.95
    },
    {
      "file": "ARCHITECTURE.md",
      "start_line": 731,
      "end_line": 733,
      "diagram_type": "sequence",
      "original": "\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 PHASE 3: ROUTING DECISION (0.1ms)                                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518",
      "mermaid": "sequenceDiagram\n    participant User\n    participant System\n    User->>System: PHASE 3: ROUTING DECISION (0.1ms)",
      "confidence": 0.95
    },
    {
      "file": "ARCHITECTURE.md",
      "start_line": 735,
      "end_line": 745,
      "diagram_type": "system",
      "original": "    \u251c\u2500> Estimate Candidates:\n    \u2502     \u2022 Total Items: 100M\n    \u2502     \u2022 Filter Selectivity (language=fr): 15M\n    \u2502     \u2022 Filter Selectivity (genre=Documentary): 8M\n    \u2502     \u2022 Estimated Candidates: 1.2M\n    \u2502\n    \u251c\u2500> Resource Requirements:\n    \u2502     \u2022 GPU Memory: 1.2M \u00d7 1024 \u00d7 2 bytes = 2.4 GB \u2713\n    \u2502     \u2022 GPU Compute: ~8ms \u2713\n    \u2502\n    \u2514\u2500> Selected Path: GPU_PATH",
      "mermaid": "graph TD",
      "confidence": 0.95
    },
    {
      "file": "ARCHITECTURE.md",
      "start_line": 747,
      "end_line": 749,
      "diagram_type": "system",
      "original": "\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 PHASE 4: GPU EXECUTION (8-12ms)                                        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518",
      "mermaid": "graph TD\n    A0[\"PHASE 4: GPU EXECUTION (8-12ms)\"]",
      "confidence": 0.95
    },
    {
      "file": "ARCHITECTURE.md",
      "start_line": 751,
      "end_line": 758,
      "diagram_type": "architecture",
      "original": "    \u2193 Transfer 2.4GB over PCIe Gen4 (32 GB/s)\n    \u2193\n  [Tensor Core Similarity] (6ms)\n    \u2193 compute_multimodal_similarity_tensor_cores<<<...>>>\n    \u2193   \u2022 1.2M pairs\n    \u2193   \u2022 25 TFLOPS throughput\n    \u2193   \u2022 280 GB/s memory bandwidth\n    \u2193",
      "mermaid": "graph TD",
      "confidence": 0.95
    },
    {
      "file": "ARCHITECTURE.md",
      "start_line": 760,
      "end_line": 762,
      "diagram_type": "system",
      "original": "    \u2193 GPU-accelerated heap sort\n    \u2193\n  Results: [",
      "mermaid": "graph TD",
      "confidence": 0.95
    },
    {
      "file": "ARCHITECTURE.md",
      "start_line": 768,
      "end_line": 770,
      "diagram_type": "sequence",
      "original": "\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 PHASE 5: SEMANTIC ENRICHMENT (3-7ms)                                   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518",
      "mermaid": "sequenceDiagram\n    participant User\n    participant System\n    User->>System: PHASE 5: SEMANTIC ENRICHMENT (3-7ms)",
      "confidence": 0.95
    },
    {
      "file": "ARCHITECTURE.md",
      "start_line": 772,
      "end_line": 779,
      "diagram_type": "flowchart",
      "original": "    \u2193\n  FOR EACH result:\n    \u251c\u2500> MATCH (item:MediaItem {id: result.id})\n    \u251c\u2500>       -[:HAS_GENRE]->(genre:Genre)\n    \u251c\u2500>       -[:ABOUT_TOPIC]->(topic:Topic)\n    \u251c\u2500>       -[:CREATED_BY]->(person:Person)\n    \u251c\u2500> RETURN item, genre, topic, person\n    \u2193",
      "mermaid": "flowchart LR",
      "confidence": 0.95
    },
    {
      "file": "ARCHITECTURE.md",
      "start_line": 796,
      "end_line": 798,
      "diagram_type": "sequence",
      "original": "\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 PHASE 6: PERSONALIZATION (2-5ms, if user authenticated)                \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518",
      "mermaid": "sequenceDiagram\n    participant User\n    participant System\n    User->>System: PHASE 6: PERSONALIZATION (2-5ms, if user",
      "confidence": 0.95
    },
    {
      "file": "ARCHITECTURE.md",
      "start_line": 800,
      "end_line": 802,
      "diagram_type": "architecture",
      "original": "    \u2193\n  User Context:\n    \u2022 Watch history: [doc_11111, doc_33333, ...]",
      "mermaid": "graph TD",
      "confidence": 0.95
    },
    {
      "file": "ARCHITECTURE.md",
      "start_line": 805,
      "end_line": 807,
      "diagram_type": "architecture",
      "original": "    \u2193\n  Thompson Sampling:\n    FOR EACH result:",
      "mermaid": "graph TD",
      "confidence": 0.95
    },
    {
      "file": "ARCHITECTURE.md",
      "start_line": 810,
      "end_line": 812,
      "diagram_type": "architecture",
      "original": "    \u2193\n  Reranked Results: [\n    {id: \"doc_12345\", final_score: 0.96},  // Boosted by user preference",
      "mermaid": "graph TD",
      "confidence": 0.95
    },
    {
      "file": "ARCHITECTURE.md",
      "start_line": 817,
      "end_line": 819,
      "diagram_type": "sequence",
      "original": "\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 PHASE 7: RESPONSE FORMATTING (0.5ms)                                   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518",
      "mermaid": "sequenceDiagram\n    participant User\n    participant System\n    User->>System: PHASE 7: RESPONSE FORMATTING (0.5ms)",
      "confidence": 0.95
    },
    {
      "file": "ARCHITECTURE.md",
      "start_line": 821,
      "end_line": 823,
      "diagram_type": "architecture",
      "original": "    \u2193\n  {\n    \"results\": [...],",
      "mermaid": "graph TD",
      "confidence": 0.95
    },
    {
      "file": "ARCHITECTURE.md",
      "start_line": 901,
      "end_line": 903,
      "diagram_type": "flowchart",
      "original": "- $14,400 \u2192 $600/month cost reduction\n\n---",
      "mermaid": "flowchart LR",
      "confidence": 0.95
    },
    {
      "file": "ARCHITECTURE.md",
      "start_line": 1000,
      "end_line": 1041,
      "diagram_type": "system",
      "original": "                          \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                          \u2502   Load Balancer    \u2502\n                          \u2502   (NGINX/HAProxy)  \u2502\n                          \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                     \u2502\n                     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                     \u2502               \u2502               \u2502\n                     \u25bc               \u25bc               \u25bc\n              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n              \u2502 API Server \u2502  \u2502 API Server \u2502  \u2502 API Server \u2502\n              \u2502  (Actix)   \u2502  \u2502  (Actix)   \u2502  \u2502  (Actix)   \u2502\n              \u2502  + MCP     \u2502  \u2502  + MCP     \u2502  \u2502  + MCP     \u2502\n              \u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                    \u2502               \u2502               \u2502\n                    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                    \u2502\n                     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                     \u2502              \u2502              \u2502\n                     \u25bc              \u25bc              \u25bc\n              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n              \u2502 GPU Node 1 \u2502 \u2502 GPU Node 2 \u2502 \u2502 GPU Node N \u2502\n              \u2502  (T4 GPU)  \u2502 \u2502  (T4 GPU)  \u2502 \u2502  (T4 GPU)  \u2502\n              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                     \u2502              \u2502              \u2502\n                     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                    \u2502\n                     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                     \u2502                             \u2502\n                     \u25bc                             \u25bc\n              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n              \u2502  Qdrant    \u2502              \u2502   Neo4j    \u2502\n              \u2502  Cluster   \u2502              \u2502  Cluster   \u2502\n              \u2502 (Sharded)  \u2502              \u2502 (Replicas) \u2502\n              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                     \u2502                             \u2502\n                     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                   \u2502\n                                   \u25bc\n                            \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                            \u2502   Redis    \u2502\n                            \u2502  (Cache)   \u2502\n                            \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518",
      "mermaid": "graph TD\n    A0[\"Load Balancer\"]\n    A1[\"(NGINX/HAProxy)\"]\n    A0 --> A1\n    A2[\"\u2502\"]\n    A1 --> A2\n    A3[\"API Server\"]\n    A2 --> A3\n    A6[\"(Actix)\"]\n    A5 --> A6\n    A9[\"+ MCP\"]\n    A8 --> A9\n    A14[\"GPU Node 1\"]\n    A13 --> A14\n    A15[\"GPU Node 2\"]\n    A14 --> A15\n    A16[\"GPU Node N\"]\n    A15 --> A16\n    A17[\"(T4 GPU)\"]\n    A16 --> A17\n    A21[\"Qdrant\"]\n    A20 --> A21\n    A22[\"Neo4j\"]\n    A21 --> A22\n    A23[\"Cluster\"]\n    A22 --> A23\n    A25[\"(Sharded)\"]\n    A24 --> A25\n    A26[\"(Replicas)\"]\n    A25 --> A26\n    A27[\"Redis\"]\n    A26 --> A27\n    A28[\"(Cache)\"]\n    A27 --> A28",
      "confidence": 0.95
    },
    {
      "file": "ARCHITECTURE.md",
      "start_line": 1048,
      "end_line": 1055,
      "diagram_type": "system",
      "original": "      \u2502                            \u2502                          \u2502\n      \u251c\u2500 API Servers (3\u00d7)          \u251c\u2500 API Servers (3\u00d7)       \u251c\u2500 API Servers (3\u00d7)\n      \u251c\u2500 GPU Nodes (4\u00d7)            \u251c\u2500 GPU Nodes (4\u00d7)         \u251c\u2500 GPU Nodes (4\u00d7)\n      \u251c\u2500 Qdrant Shard 1            \u251c\u2500 Qdrant Shard 2         \u251c\u2500 Qdrant Shard 3\n      \u2514\u2500 Neo4j Replica 1           \u2514\u2500 Neo4j Replica 2        \u2514\u2500 Neo4j Replica 3\n              \u2502                            \u2502                          \u2502\n              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                           \u2502",
      "mermaid": "graph TD\n    A0[\"\u2502\"]",
      "confidence": 0.95
    }
  ],
  "priority_conversions": [
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 18,
      "end_line": 20,
      "diagram_type": "flowchart",
      "original": "- 50% reduction in operational complexity (4 \u2192 2 systems)\n- 18% cost savings ($840/month \u2192 $690/month at 7,000 QPS)\n- Minimal performance degradation (<5ms additional latency)",
      "mermaid": "flowchart LR",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 195,
      "end_line": 199,
      "diagram_type": "flowchart",
      "original": "  \u2192 Query latency: 15ms \u2192 20ms (+5ms cache miss penalty)\n\nOption 2: Neo4j + Redis\n  \u2192 Query latency: 15ms (cache hit), 18ms (cache miss)\n  \u2192 Complexity: Still 2 systems",
      "mermaid": "flowchart LR",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 215,
      "end_line": 218,
      "diagram_type": "architecture",
      "original": "    \u251c\u2500> Milvus (vector search)\n    \u251c\u2500> Neo4j (graph)\n    \u251c\u2500> PostgreSQL (AgentDB)\n    \u2514\u2500> Redis (cache)",
      "mermaid": "graph TD",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 243,
      "end_line": 245,
      "diagram_type": "architecture",
      "original": "    \u2514\u2500> Neo4j (all workloads)\n```\n",
      "mermaid": "graph TD",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 261,
      "end_line": 263,
      "diagram_type": "flowchart",
      "original": "  \u251c\u2500> Milvus: 8.7ms \u2192 Neo4j vectors: 20ms (+11.3ms)\n  \u251c\u2500> Redis cache: 0.5ms \u2192 Neo4j cache: 3ms (+2.5ms)\n  \u2514\u2500> Total: 15ms \u2192 28ms (+13ms, 87% increase)",
      "mermaid": "flowchart LR",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 278,
      "end_line": 280,
      "diagram_type": "system",
      "original": "    \u251c\u2500> Milvus (vector search, GPU-accelerated)\n    \u2514\u2500> Neo4j (graph + AgentDB + cache)\n```",
      "mermaid": "graph TD",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 283,
      "end_line": 285,
      "diagram_type": "flowchart",
      "original": "- PostgreSQL \u2192 Neo4j (AgentDB state as graph nodes)\n- Redis \u2192 Neo4j (page cache + query cache)\n",
      "mermaid": "flowchart LR",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 287,
      "end_line": 289,
      "diagram_type": "system",
      "original": "- \u2705 50% reduction in systems (4 \u2192 2)\n- \u2705 Maintains GPU acceleration for vectors\n- \u2705 Moderate complexity reduction",
      "mermaid": "graph TD",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 293,
      "end_line": 295,
      "diagram_type": "flowchart",
      "original": "- \u26a0\ufe0f 3-5ms latency increase (Redis \u2192 Neo4j cache)\n- \u26a0\ufe0f Still 2 systems to manage\n- \u26a0\ufe0f Migration effort for AgentDB",
      "mermaid": "flowchart LR",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 300,
      "end_line": 303,
      "diagram_type": "flowchart",
      "original": "  \u251c\u2500> Milvus: 8.7ms \u2192 Unchanged\n  \u251c\u2500> Redis cache: 0.5ms \u2192 Neo4j cache: 3ms (+2.5ms)\n  \u251c\u2500> AgentDB: 5ms \u2192 Neo4j graph: 7ms (+2ms)\n  \u2514\u2500> Total: 15ms \u2192 19.5ms (+4.5ms, 30% increase)",
      "mermaid": "flowchart LR",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 318,
      "end_line": 320,
      "diagram_type": "architecture",
      "original": "    \u251c\u2500> Neo4j (graph + vectors + AgentDB)\n    \u2514\u2500> Redis (cache only)\n```",
      "mermaid": "graph TD",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 323,
      "end_line": 325,
      "diagram_type": "flowchart",
      "original": "- Milvus \u2192 Neo4j (vector index)\n- PostgreSQL \u2192 Neo4j (AgentDB state)\n",
      "mermaid": "flowchart LR",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 327,
      "end_line": 329,
      "diagram_type": "flowchart",
      "original": "- \u2705 50% reduction in systems (4 \u2192 2)\n- \u2705 Sub-ms caching preserved\n- \u2705 Simplified vector+graph queries",
      "mermaid": "flowchart LR",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 339,
      "end_line": 341,
      "diagram_type": "flowchart",
      "original": "  \u251c\u2500> Milvus: 8.7ms \u2192 Neo4j vectors: 20ms (+11.3ms)\n  \u251c\u2500> Redis cache: 0.5ms \u2192 Unchanged\n  \u2514\u2500> Total: 15ms \u2192 26.3ms (+11.3ms, 75% increase)",
      "mermaid": "flowchart LR",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 394,
      "end_line": 400,
      "diagram_type": "architecture",
      "original": "Request \u2192 API Gateway (1ms)\n  \u251c\u2500> Embedding Generation (3ms)\n  \u251c\u2500> Routing (0.1ms)\n  \u251c\u2500> Milvus Vector Search (8.7ms)\n  \u251c\u2500> Neo4j Graph Enrichment (2ms)\n  \u251c\u2500> AgentDB RL Reranking (5ms)\n  \u2514\u2500> Redis Cache Check (0.5ms)",
      "mermaid": "graph TD",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 406,
      "end_line": 412,
      "diagram_type": "architecture",
      "original": "Request \u2192 API Gateway (1ms)\n  \u251c\u2500> Embedding Generation (3ms)\n  \u251c\u2500> Routing (0.1ms)\n  \u251c\u2500> Neo4j Vector Search (20ms) \u26a0\ufe0f\n  \u251c\u2500> Neo4j Graph Enrichment (2ms)\n  \u251c\u2500> Neo4j RL Reranking (7ms) \u26a0\ufe0f\n  \u2514\u2500> Neo4j Cache (3ms) \u26a0\ufe0f",
      "mermaid": "graph TD",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 418,
      "end_line": 424,
      "diagram_type": "architecture",
      "original": "Request \u2192 API Gateway (1ms)\n  \u251c\u2500> Embedding Generation (3ms)\n  \u251c\u2500> Routing (0.1ms)\n  \u251c\u2500> Milvus Vector Search (8.7ms) \u2705\n  \u251c\u2500> Neo4j Graph Enrichment (2ms)\n  \u251c\u2500> Neo4j RL Reranking (7ms) \u26a0\ufe0f\n  \u2514\u2500> Neo4j Cache (3ms) \u26a0\ufe0f",
      "mermaid": "graph TD",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 490,
      "end_line": 492,
      "diagram_type": "flowchart",
      "original": "| **PostgreSQL \u2192 Neo4j** | 15-20 | Medium | 10M user states | AgentDB queries | 5 days |\n| **Redis \u2192 Neo4j** | 8-12 | Low | Cache rebuild | Cache layer logic | 3 days |\n| **Milvus \u2192 Neo4j** | 25-35 | High | 100M vectors | Vector search queries | 10 days |",
      "mermaid": "flowchart LR",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 498,
      "end_line": 502,
      "diagram_type": "sequence",
      "original": "Phase 1: PostgreSQL \u2192 Neo4j (15 days)\n  \u251c\u2500> Schema mapping (user_states \u2192 :User-[:HAS_STATE]->:RLState)\n  \u251c\u2500> Data pipeline (10M records)\n  \u251c\u2500> Query rewrite (SQL \u2192 Cypher)\n  \u2514\u2500> Integration testing",
      "mermaid": "sequenceDiagram\n    participant User\n    participant System",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 504,
      "end_line": 509,
      "diagram_type": "system",
      "original": "Phase 2: Milvus \u2192 Neo4j (30 days)\n  \u251c\u2500> Vector index creation (100M vectors)\n  \u251c\u2500> Embedding migration (2TB data)\n  \u251c\u2500> HNSW tuning (ef, M parameters)\n  \u251c\u2500> Performance validation\n  \u2514\u2500> Fallback strategy (GPU \u2192 CPU)",
      "mermaid": "graph TD",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 511,
      "end_line": 515,
      "diagram_type": "sequence",
      "original": "Phase 3: Redis \u2192 Neo4j (10 days)\n  \u251c\u2500> Cache layer refactor\n  \u251c\u2500> Page cache tuning\n  \u251c\u2500> TTL policy implementation\n  \u2514\u2500> Load testing",
      "mermaid": "sequenceDiagram\n    participant User\n    participant System",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 522,
      "end_line": 525,
      "diagram_type": "sequence",
      "original": "Phase 1: PostgreSQL \u2192 Neo4j (15 days)\n  (same as Option B)\n\nPhase 2: Redis \u2192 Neo4j (10 days)",
      "mermaid": "sequenceDiagram\n    participant User\n    participant System",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 533,
      "end_line": 535,
      "diagram_type": "sequence",
      "original": "Phase 1: PostgreSQL \u2192 Neo4j (15 days)\nPhase 2: Milvus \u2192 Neo4j (30 days)\n",
      "mermaid": "sequenceDiagram\n    participant User\n    participant System",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 568,
      "end_line": 570,
      "diagram_type": "flowchart",
      "original": "**100M \u2192 1B Vectors**:\n\n| System | Current Scale | 10\u00d7 Scale | Risk |",
      "mermaid": "flowchart LR",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 631,
      "end_line": 633,
      "diagram_type": "flowchart",
      "original": "2. **Cost**: 35% total cost reduction ($7,190 \u2192 $4,670/month)\n3. **Complexity**: 50% system reduction (4 \u2192 2 databases)\n4. **Migration Risk**: Medium (2 systems to migrate, 25-30 days)",
      "mermaid": "flowchart LR",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 639,
      "end_line": 655,
      "diagram_type": "architecture",
      "original": "\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                  API GATEWAY                        \u2502\n\u2502              (Actix-web + MCP)                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                   \u2502\n        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n        \u2502                        \u2502\n        \u25bc                        \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502     MILVUS       \u2502    \u2502       NEO4J          \u2502\n\u2502  Vector Search   \u2502    \u2502   (Unified Store)    \u2502\n\u2502                  \u2502    \u2502                      \u2502\n\u2502 \u2022 100M vectors   \u2502    \u2502 \u2022 Knowledge Graph    \u2502\n\u2502 \u2022 GPU-accelerated\u2502    \u2502 \u2022 AgentDB State      \u2502\n\u2502 \u2022 HNSW + INT8    \u2502    \u2502 \u2022 Page Cache         \u2502\n\u2502 \u2022 8.7ms p95      \u2502    \u2502 \u2022 Query Cache        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518",
      "mermaid": "graph TD\n    A0[\"API GATEWAY\"]\n    A1[\"(Actix-web + MCP)\"]\n    A0 --> A1\n    A2[\"MILVUS\"]\n    A1 --> A2\n    A3[\"NEO4J\"]\n    A2 --> A3\n    A4[\"Vector Search\"]\n    A3 --> A4\n    A5[\"(Unified Store)\"]\n    A4 --> A5\n    A6[\"\u2502\"]\n    A5 --> A6\n    A7[\"\u2022 100M vectors\"]\n    A6 --> A7\n    A8[\"\u2022 Knowledge Graph\"]\n    A7 --> A8\n    A9[\"\u2022 GPU-accelerated\"]\n    A8 --> A9\n    A10[\"\u2022 AgentDB State\"]\n    A9 --> A10\n    A11[\"\u2022 HNSW + INT8\"]\n    A10 --> A11\n    A12[\"\u2022 Page Cache\"]\n    A11 --> A12\n    A13[\"\u2022 8.7ms p95\"]\n    A12 --> A13\n    A14[\"\u2022 Query Cache\"]\n    A13 --> A14",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 719,
      "end_line": 721,
      "diagram_type": "sequence",
      "original": "### 10.1 Phase 1: PostgreSQL \u2192 Neo4j (Weeks 1-3)\n\n**Week 1: Schema Design**",
      "mermaid": "sequenceDiagram\n    participant User\n    participant System",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 742,
      "end_line": 744,
      "diagram_type": "flowchart",
      "original": "  \u2713 Rewrite AgentDB queries (SQL \u2192 Cypher)\n  \u2713 Update connection pooling (neo4rs driver)\n  \u2713 Integration testing (unit + E2E)",
      "mermaid": "flowchart LR",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 748,
      "end_line": 750,
      "diagram_type": "sequence",
      "original": "### 10.2 Phase 2: Redis \u2192 Neo4j (Weeks 4-5)\n\n**Week 4: Cache Layer Refactor**",
      "mermaid": "sequenceDiagram\n    participant User\n    participant System",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 773,
      "end_line": 775,
      "diagram_type": "flowchart",
      "original": "2. Gradual traffic shift (10% \u2192 50% \u2192 100%)\n3. Monitor metrics (latency, error rate, CPU/memory)\n4. Rollback trigger: p95 latency >25ms or error rate >1%",
      "mermaid": "flowchart LR",
      "confidence": 0.95
    },
    {
      "file": "design/DATABASE_UNIFICATION_ANALYSIS.md",
      "start_line": 856,
      "end_line": 858,
      "diagram_type": "sequence",
      "original": "4. Begin Phase 1 (PostgreSQL \u2192 Neo4j)\n\n**Contact**: System Architecture Team",
      "mermaid": "sequenceDiagram\n    participant User\n    participant System",
      "confidence": 0.95
    },
    {
      "file": "ARCHITECTURE.md",
      "start_line": 104,
      "end_line": 207,
      "diagram_type": "architecture",
      "original": "\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                        EXTERNAL SYSTEMS                                 \u2502\n\u2502                                                                         \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                \u2502\n\u2502  \u2502   Content    \u2502  \u2502    User      \u2502  \u2502   AI Agents  \u2502                \u2502\n\u2502  \u2502  Providers   \u2502  \u2502 Applications \u2502  \u2502 (Claude/etc) \u2502                \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                \u2502\n\u2502         \u2502                 \u2502                  \u2502                         \u2502\n\u2502         \u2502 Metadata        \u2502 Queries          \u2502 MCP Protocol            \u2502\n\u2502         \u2502 Ingestion       \u2502 (REST/GraphQL)   \u2502 (JSON-RPC)             \u2502\n\u2502         \u2502                 \u2502                  \u2502                         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n          \u2502                 \u2502                  \u2502\n          \u25bc                 \u25bc                  \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                     API GATEWAY LAYER                                   \u2502\n\u2502                                                                         \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510           \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510              \u2502\n\u2502  \u2502   REST API Server  \u2502           \u2502   MCP Server       \u2502              \u2502\n\u2502  \u2502  (Actix-web/Axum)  \u2502           \u2502  (JSON-RPC 2.0)    \u2502              \u2502\n\u2502  \u2502                    \u2502           \u2502                    \u2502              \u2502\n\u2502  \u2502 \u2022 Authentication   \u2502           \u2502 \u2022 Tool Discovery   \u2502              \u2502\n\u2502  \u2502 \u2022 Rate Limiting    \u2502           \u2502 \u2022 Streaming        \u2502              \u2502\n\u2502  \u2502 \u2022 Request Routing  \u2502           \u2502 \u2022 Context Mgmt     \u2502              \u2502\n\u2502  \u2502 \u2022 Response Cache   \u2502           \u2502 \u2022 Error Handling   \u2502              \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518           \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518              \u2502\n\u2502            \u2502                                 \u2502                         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n             \u2502                                 \u2502\n             \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                          \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                ORCHESTRATION & ROUTING LAYER                            \u2502\n\u2502                                                                         \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502              Query Analyzer & Router                             \u2502  \u2502\n\u2502  \u2502                                                                  \u2502  \u2502\n\u2502  \u2502  \u2022 Complexity Analysis (O(log n) vs O(n) vs O(n\u00b2))             \u2502  \u2502\n\u2502  \u2502  \u2022 Resource Estimation (GPU memory, disk I/O)                   \u2502  \u2502\n\u2502  \u2502  \u2022 Path Selection (GPU / Vector DB / Hybrid)                    \u2502  \u2502\n\u2502  \u2502  \u2022 Load Balancing (Multi-GPU, DB shards)                        \u2502  \u2502\n\u2502  \u2502  \u2022 Fallback Strategy (GPU OOM \u2192 Vector DB)                      \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2502                             \u2502                                           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                              \u2502\n                \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                \u2502                            \u2502\n                \u25bc                            \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502      GPU ENGINE LAYER      \u2502  \u2502  VECTOR DATABASE LAYER       \u2502\n\u2502      (CUDA Kernels)        \u2502  \u2502  (Qdrant / Milvus)           \u2502\n\u2502                            \u2502  \u2502                              \u2502\n\u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502  \u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502 \u2502 Semantic Similarity    \u2502 \u2502  \u2502 \u2502 HNSW Index               \u2502 \u2502\n\u2502 \u2502 \u2022 Tensor Cores (FP16)  \u2502 \u2502  \u2502 \u2502 \u2022 M=32, efConstruction   \u2502 \u2502\n\u2502 \u2502 \u2022 Memory Coalescing    \u2502 \u2502  \u2502 \u2502 \u2022 Product Quantization   \u2502 \u2502\n\u2502 \u2502 \u2022 Shared Memory Cache  \u2502 \u2502  \u2502 \u2502 \u2022 Disk-backed Storage    \u2502 \u2502\n\u2502 \u2502 \u2022 280 GB/s Bandwidth   \u2502 \u2502  \u2502 \u2502 \u2022 Horizontal Sharding    \u2502 \u2502\n\u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502  \u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2502                            \u2502  \u2502                              \u2502\n\u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502  \u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502 \u2502 Adaptive SSSP Engine   \u2502 \u2502  \u2502 \u2502 Metadata Filtering       \u2502 \u2502\n\u2502 \u2502 \u2022 GPU Dijkstra (<10K)  \u2502 \u2502  \u2502 \u2502 \u2022 Inverted Indices       \u2502 \u2502\n\u2502 \u2502 \u2022 Duan SSSP (>10M)     \u2502 \u2502  \u2502 \u2502 \u2022 Range Queries          \u2502 \u2502\n\u2502 \u2502 \u2022 Auto crossover       \u2502 \u2502  \u2502 \u2502 \u2022 Faceted Search         \u2502 \u2502\n\u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502  \u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2502                            \u2502  \u2502                              \u2502\n\u2502 Memory: 16GB VRAM          \u2502  \u2502 Storage: 1TB+ Disk           \u2502\n\u2502 Latency: <10ms             \u2502  \u2502 Latency: 20-100ms            \u2502\n\u2502 Scale: 1M vectors          \u2502  \u2502 Scale: 100M+ vectors         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n             \u2502                               \u2502\n             \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                         \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                  SEMANTIC ENRICHMENT LAYER                              \u2502\n\u2502                                                                         \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502\n\u2502  \u2502               Knowledge Graph (Neo4j)                          \u2502    \u2502\n\u2502  \u2502                                                                \u2502    \u2502\n\u2502  \u2502  \u2022 GMC-O Ontology (Extended)                                  \u2502    \u2502\n\u2502  \u2502  \u2022 Entity Relationships (hasGenre, isPartOf, etc.)            \u2502    \u2502\n\u2502  \u2502  \u2022 APOC Procedures (Graph Algorithms)                         \u2502    \u2502\n\u2502  \u2502  \u2022 Cypher Queries (Pattern Matching)                          \u2502    \u2502\n\u2502  \u2502  \u2022 Inference Rules (OWL Reasoning)                            \u2502    \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502\n\u2502                                                                         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                              \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              PERSONALIZATION & LEARNING LAYER                           \u2502\n\u2502                                                                         \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502\n\u2502  \u2502        Reinforcement Learning Agent (AgentDB)                  \u2502    \u2502\n\u2502  \u2502                                                                \u2502    \u2502\n\u2502  \u2502  \u2022 Thompson Sampling (Contextual Bandits)                     \u2502    \u2502\n\u2502  \u2502  \u2022 User Context Embeddings (session, history, preferences)    \u2502    \u2502\n\u2502  \u2502  \u2022 Exploration/Exploitation Balance (\u03b5-greedy)                \u2502    \u2502\n\u2502  \u2502  \u2022 Experience Replay & Distillation                           \u2502    \u2502\n\u2502  \u2502  \u2022 Cold-Start Handling (5-10 interactions)                    \u2502    \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502\n\u2502                                                                         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518",
      "mermaid": "graph TD\n    A0[\"EXTERNAL SYSTEMS\"]\n    A1[\"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\"]\n    A0 --> A1\n    A2[\"\u2502   Content\"]\n    A1 --> A2\n    A3[\"User\"]\n    A2 --> A3\n    A4[\"AI Agents\"]\n    A3 --> A4\n    A5[\"\u2502  Providers\"]\n    A4 --> A5\n    A6[\"Applications\"]\n    A5 --> A6\n    A7[\"(Claude/etc)\"]\n    A6 --> A7\n    A8[\"\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\"]\n    A7 --> A8\n    A9[\"\u2502\"]\n    A8 --> A9\n    A10[\"\u2502 Metadata\"]\n    A9 --> A10\n    A11[\"MCP Protocol\"]\n    A10 --> A11\n    A12[\"\u2502 Ingestion\"]\n    A11 --> A12\n    A13[\"(JSON-RPC)\"]\n    A12 --> A13\n    A16[\"API GATEWAY LAYER\"]\n    A15 --> A16\n    A17[\"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510           \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\"]\n    A16 --> A17\n    A18[\"\u2502   REST API Server\"]\n    A17 --> A18\n    A19[\"MCP Server\"]\n    A18 --> A19\n    A20[\"\u2502  (Actix-web/Axum)\"]\n    A19 --> A20\n    A21[\"(JSON-RPC 2.0)\"]\n    A20 --> A21\n    A24[\"\u2502 \u2022 Authentication\"]\n    A23 --> A24\n    A25[\"\u2022 Tool Discovery\"]\n    A24 --> A25\n    A26[\"\u2502 \u2022 Rate Limiting\"]\n    A25 --> A26\n    A27[\"\u2022 Streaming\"]\n    A26 --> A27\n    A28[\"\u2502 \u2022 Request Routing\"]\n    A27 --> A28\n    A29[\"\u2022 Context Mgmt\"]\n    A28 --> A29\n    A30[\"\u2502 \u2022 Response Cache\"]\n    A29 --> A30\n    A31[\"\u2022 Error Handling\"]\n    A30 --> A31\n    A32[\"\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518           \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\"]\n    A31 --> A32\n    A34[\"ORCHESTRATION & ROUTING LAYER\"]\n    A33 --> A34\n    A35[\"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\"]\n    A34 --> A35\n    A36[\"\u2502              Query Analyzer & Router\"]\n    A35 --> A36\n    A38[\"\u2502  \u2022 Complexity Analysis (O(log n) vs O(n) vs O(n\u00b2))\"]\n    A37 --> A38\n    A39[\"\u2502  \u2022 Resource Estimation (GPU memory, disk I/O)\"]\n    A38 --> A39\n    A40[\"\u2502  \u2022 Path Selection (GPU / Vector DB / Hybrid)\"]\n    A39 --> A40\n    A41[\"\u2502  \u2022 Load Balancing (Multi-GPU, DB shards)\"]\n    A40 --> A41\n    A42[\"\u2502  \u2022 Fallback Strategy (GPU OOM \u2192 Vector DB)\"]\n    A41 --> A42\n    A43[\"\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\"]\n    A42 --> A43\n    A45[\"GPU ENGINE LAYER\"]\n    A44 --> A45\n    A46[\"VECTOR DATABASE LAYER\"]\n    A45 --> A46\n    A47[\"(CUDA Kernels)\"]\n    A46 --> A47\n    A48[\"(Qdrant / Milvus)\"]\n    A47 --> A48\n    A50[\"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\"]\n    A49 --> A50\n    A51[\"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\"]\n    A50 --> A51\n    A52[\"\u2502 Semantic Similarity\"]\n    A51 --> A52\n    A54[\"\u2502 \u2022 Tensor Cores (FP16)\"]\n    A53 --> A54\n    A56[\"\u2502 \u2022 Memory Coalescing\"]\n    A55 --> A56\n    A58[\"\u2502 \u2022 Shared Memory Cache\"]\n    A57 --> A58\n    A60[\"\u2502 \u2022 280 GB/s Bandwidth\"]\n    A59 --> A60\n    A62[\"\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\"]\n    A61 --> A62\n    A63[\"\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\"]\n    A62 --> A63\n    A67[\"\u2502 Adaptive SSSP Engine\"]\n    A66 --> A67\n    A69[\"\u2502 \u2022 GPU Dijkstra (<10K)\"]\n    A68 --> A69\n    A71[\"\u2502 \u2022 Duan SSSP (>10M)\"]\n    A70 --> A71\n    A73[\"\u2502 \u2022 Auto crossover\"]\n    A72 --> A73\n    A78[\"Memory: 16GB VRAM\"]\n    A77 --> A78\n    A79[\"Storage: 1TB+ Disk\"]\n    A78 --> A79\n    A80[\"Latency: <10ms\"]\n    A79 --> A80\n    A81[\"Latency: 20-100ms\"]\n    A80 --> A81\n    A82[\"Scale: 1M vectors\"]\n    A81 --> A82\n    A83[\"Scale: 100M+ vectors\"]\n    A82 --> A83\n    A84[\"SEMANTIC ENRICHMENT LAYER\"]\n    A83 --> A84\n    A85[\"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\"]\n    A84 --> A85\n    A86[\"\u2502               Knowledge Graph (Neo4j)\"]\n    A85 --> A86\n    A88[\"\u2502  \u2022 GMC-O Ontology (Extended)\"]\n    A87 --> A88\n    A89[\"\u2502  \u2022 Entity Relationships (hasGenre, isPartOf, etc.)\"]\n    A88 --> A89\n    A90[\"\u2502  \u2022 APOC Procedures (Graph Algorithms)\"]\n    A89 --> A90\n    A91[\"\u2502  \u2022 Cypher Queries (Pattern Matching)\"]\n    A90 --> A91\n    A92[\"\u2502  \u2022 Inference Rules (OWL Reasoning)\"]\n    A91 --> A92\n    A93[\"\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\"]\n    A92 --> A93\n    A94[\"PERSONALIZATION & LEARNING LAYER\"]\n    A93 --> A94\n    A96[\"\u2502        Reinforcement Learning Agent (AgentDB)\"]\n    A95 --> A96\n    A98[\"\u2502  \u2022 Thompson Sampling (Contextual Bandits)\"]\n    A97 --> A98\n    A99[\"\u2502  \u2022 User Context Embeddings (session, history, preferences)\"]\n    A98 --> A99\n    A100[\"\u2502  \u2022 Exploration/Exploitation Balance (\u03b5-greedy)\"]\n    A99 --> A100\n    A101[\"\u2502  \u2022 Experience Replay & Distillation\"]\n    A100 --> A101\n    A102[\"\u2502  \u2022 Cold-Start Handling (5-10 interactions)\"]\n    A101 --> A102",
      "confidence": 0.95
    },
    {
      "file": "ARCHITECTURE.md",
      "start_line": 303,
      "end_line": 322,
      "diagram_type": "system",
      "original": "    \u251c\u2500> Parse & Validate\n    \u2502   \u2514\u2500> Extract: [text, filters, limit, threshold]\n    \u2502\n    \u251c\u2500> Complexity Analysis\n    \u2502   \u251c\u2500> Candidate Set Size Estimation\n    \u2502   \u2502   \u2514\u2500> Filter Selectivity \u00d7 Total Items\n    \u2502   \u251c\u2500> Semantic Complexity\n    \u2502   \u2502   \u2514\u2500> Multi-modal? Graph traversal? RL reranking?\n    \u2502   \u2514\u2500> Resource Requirements\n    \u2502       \u2514\u2500> GPU Memory, Disk I/O, Compute Time\n    \u2502\n    \u2514\u2500> Path Selection\n        \u251c\u2500> GPU Path (candidates < 10K && GPU available)\n        \u2502   \u2514\u2500> Load \u2192 GPU Kernel \u2192 Results [<10ms]\n        \u2502\n        \u251c\u2500> Vector DB Path (candidates > 100K)\n        \u2502   \u2514\u2500> HNSW Search \u2192 Filter \u2192 Results [20-100ms]\n        \u2502\n        \u2514\u2500> Hybrid Path (10K < candidates < 100K)\n            \u2514\u2500> VectorDB (coarse) \u2192 GPU (rerank) [15-50ms]",
      "mermaid": "graph TD",
      "confidence": 0.95
    },
    {
      "file": "ARCHITECTURE.md",
      "start_line": 387,
      "end_line": 389,
      "diagram_type": "sequence",
      "original": "**Performance**: 10\u00d7 speedup (2.5 TFLOPS \u2192 25 TFLOPS)\n\n**Phase 2: Memory Coalescing**",
      "mermaid": "sequenceDiagram\n    participant User\n    participant System",
      "confidence": 0.95
    },
    {
      "file": "ARCHITECTURE.md",
      "start_line": 423,
      "end_line": 425,
      "diagram_type": "system",
      "original": "**Performance**: 5\u00d7 additional speedup (60 GB/s \u2192 280 GB/s)\n\n**Cumulative GPU Speedup**: 10\u00d7 \u00d7 5\u00d7 = **50\u00d7 faster than CPU baseline**",
      "mermaid": "graph TD",
      "confidence": 0.95
    },
    {
      "file": "ARCHITECTURE.md",
      "start_line": 581,
      "end_line": 583,
      "diagram_type": "flowchart",
      "original": "**Performance**: 33\u00d7 faster constraint validation (850ms \u2192 24ms)\n\n---",
      "mermaid": "flowchart LR",
      "confidence": 0.95
    },
    {
      "file": "ARCHITECTURE.md",
      "start_line": 704,
      "end_line": 706,
      "diagram_type": "sequence",
      "original": "\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 PHASE 1: REQUEST INGESTION (1-2ms)                                     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518",
      "mermaid": "sequenceDiagram\n    participant User\n    participant System\n    User->>System: PHASE 1: REQUEST INGESTION (1-2ms)",
      "confidence": 0.95
    },
    {
      "file": "ARCHITECTURE.md",
      "start_line": 708,
      "end_line": 714,
      "diagram_type": "architecture",
      "original": "    \u2193\n  [API Gateway]\n    \u251c\u2500> Authentication & Authorization (JWT)\n    \u251c\u2500> Rate Limiting (1000 RPS per user)\n    \u251c\u2500> Request Validation (JSON Schema)\n    \u2514\u2500> Query Parsing\n          \u2193",
      "mermaid": "graph TD",
      "confidence": 0.95
    },
    {
      "file": "ARCHITECTURE.md",
      "start_line": 722,
      "end_line": 728,
      "diagram_type": "sequence",
      "original": "\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 PHASE 2: EMBEDDING GENERATION (2-5ms)                                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n  Text \u2192 Embedding Model (Sentence Transformer)\n    \u2193\n  [768-dim] \u2192 [1024-dim projection] (normalize + project)\n    \u2193",
      "mermaid": "sequenceDiagram\n    participant User\n    participant System\n    User->>System: PHASE 2: EMBEDDING GENERATION (2-5ms)",
      "confidence": 0.95
    },
    {
      "file": "ARCHITECTURE.md",
      "start_line": 731,
      "end_line": 733,
      "diagram_type": "sequence",
      "original": "\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 PHASE 3: ROUTING DECISION (0.1ms)                                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518",
      "mermaid": "sequenceDiagram\n    participant User\n    participant System\n    User->>System: PHASE 3: ROUTING DECISION (0.1ms)",
      "confidence": 0.95
    },
    {
      "file": "ARCHITECTURE.md",
      "start_line": 735,
      "end_line": 745,
      "diagram_type": "system",
      "original": "    \u251c\u2500> Estimate Candidates:\n    \u2502     \u2022 Total Items: 100M\n    \u2502     \u2022 Filter Selectivity (language=fr): 15M\n    \u2502     \u2022 Filter Selectivity (genre=Documentary): 8M\n    \u2502     \u2022 Estimated Candidates: 1.2M\n    \u2502\n    \u251c\u2500> Resource Requirements:\n    \u2502     \u2022 GPU Memory: 1.2M \u00d7 1024 \u00d7 2 bytes = 2.4 GB \u2713\n    \u2502     \u2022 GPU Compute: ~8ms \u2713\n    \u2502\n    \u2514\u2500> Selected Path: GPU_PATH",
      "mermaid": "graph TD",
      "confidence": 0.95
    },
    {
      "file": "ARCHITECTURE.md",
      "start_line": 747,
      "end_line": 749,
      "diagram_type": "system",
      "original": "\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 PHASE 4: GPU EXECUTION (8-12ms)                                        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518",
      "mermaid": "graph TD\n    A0[\"PHASE 4: GPU EXECUTION (8-12ms)\"]",
      "confidence": 0.95
    },
    {
      "file": "ARCHITECTURE.md",
      "start_line": 751,
      "end_line": 758,
      "diagram_type": "architecture",
      "original": "    \u2193 Transfer 2.4GB over PCIe Gen4 (32 GB/s)\n    \u2193\n  [Tensor Core Similarity] (6ms)\n    \u2193 compute_multimodal_similarity_tensor_cores<<<...>>>\n    \u2193   \u2022 1.2M pairs\n    \u2193   \u2022 25 TFLOPS throughput\n    \u2193   \u2022 280 GB/s memory bandwidth\n    \u2193",
      "mermaid": "graph TD",
      "confidence": 0.95
    },
    {
      "file": "ARCHITECTURE.md",
      "start_line": 760,
      "end_line": 762,
      "diagram_type": "system",
      "original": "    \u2193 GPU-accelerated heap sort\n    \u2193\n  Results: [",
      "mermaid": "graph TD",
      "confidence": 0.95
    },
    {
      "file": "ARCHITECTURE.md",
      "start_line": 768,
      "end_line": 770,
      "diagram_type": "sequence",
      "original": "\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 PHASE 5: SEMANTIC ENRICHMENT (3-7ms)                                   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518",
      "mermaid": "sequenceDiagram\n    participant User\n    participant System\n    User->>System: PHASE 5: SEMANTIC ENRICHMENT (3-7ms)",
      "confidence": 0.95
    },
    {
      "file": "ARCHITECTURE.md",
      "start_line": 772,
      "end_line": 779,
      "diagram_type": "flowchart",
      "original": "    \u2193\n  FOR EACH result:\n    \u251c\u2500> MATCH (item:MediaItem {id: result.id})\n    \u251c\u2500>       -[:HAS_GENRE]->(genre:Genre)\n    \u251c\u2500>       -[:ABOUT_TOPIC]->(topic:Topic)\n    \u251c\u2500>       -[:CREATED_BY]->(person:Person)\n    \u251c\u2500> RETURN item, genre, topic, person\n    \u2193",
      "mermaid": "flowchart LR",
      "confidence": 0.95
    },
    {
      "file": "ARCHITECTURE.md",
      "start_line": 796,
      "end_line": 798,
      "diagram_type": "sequence",
      "original": "\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 PHASE 6: PERSONALIZATION (2-5ms, if user authenticated)                \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518",
      "mermaid": "sequenceDiagram\n    participant User\n    participant System\n    User->>System: PHASE 6: PERSONALIZATION (2-5ms, if user",
      "confidence": 0.95
    },
    {
      "file": "ARCHITECTURE.md",
      "start_line": 800,
      "end_line": 802,
      "diagram_type": "architecture",
      "original": "    \u2193\n  User Context:\n    \u2022 Watch history: [doc_11111, doc_33333, ...]",
      "mermaid": "graph TD",
      "confidence": 0.95
    },
    {
      "file": "ARCHITECTURE.md",
      "start_line": 805,
      "end_line": 807,
      "diagram_type": "architecture",
      "original": "    \u2193\n  Thompson Sampling:\n    FOR EACH result:",
      "mermaid": "graph TD",
      "confidence": 0.95
    },
    {
      "file": "ARCHITECTURE.md",
      "start_line": 810,
      "end_line": 812,
      "diagram_type": "architecture",
      "original": "    \u2193\n  Reranked Results: [\n    {id: \"doc_12345\", final_score: 0.96},  // Boosted by user preference",
      "mermaid": "graph TD",
      "confidence": 0.95
    },
    {
      "file": "ARCHITECTURE.md",
      "start_line": 817,
      "end_line": 819,
      "diagram_type": "sequence",
      "original": "\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 PHASE 7: RESPONSE FORMATTING (0.5ms)                                   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518",
      "mermaid": "sequenceDiagram\n    participant User\n    participant System\n    User->>System: PHASE 7: RESPONSE FORMATTING (0.5ms)",
      "confidence": 0.95
    },
    {
      "file": "ARCHITECTURE.md",
      "start_line": 821,
      "end_line": 823,
      "diagram_type": "architecture",
      "original": "    \u2193\n  {\n    \"results\": [...],",
      "mermaid": "graph TD",
      "confidence": 0.95
    },
    {
      "file": "ARCHITECTURE.md",
      "start_line": 901,
      "end_line": 903,
      "diagram_type": "flowchart",
      "original": "- $14,400 \u2192 $600/month cost reduction\n\n---",
      "mermaid": "flowchart LR",
      "confidence": 0.95
    },
    {
      "file": "ARCHITECTURE.md",
      "start_line": 1000,
      "end_line": 1041,
      "diagram_type": "system",
      "original": "                          \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                          \u2502   Load Balancer    \u2502\n                          \u2502   (NGINX/HAProxy)  \u2502\n                          \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                     \u2502\n                     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                     \u2502               \u2502               \u2502\n                     \u25bc               \u25bc               \u25bc\n              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n              \u2502 API Server \u2502  \u2502 API Server \u2502  \u2502 API Server \u2502\n              \u2502  (Actix)   \u2502  \u2502  (Actix)   \u2502  \u2502  (Actix)   \u2502\n              \u2502  + MCP     \u2502  \u2502  + MCP     \u2502  \u2502  + MCP     \u2502\n              \u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                    \u2502               \u2502               \u2502\n                    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                    \u2502\n                     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                     \u2502              \u2502              \u2502\n                     \u25bc              \u25bc              \u25bc\n              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n              \u2502 GPU Node 1 \u2502 \u2502 GPU Node 2 \u2502 \u2502 GPU Node N \u2502\n              \u2502  (T4 GPU)  \u2502 \u2502  (T4 GPU)  \u2502 \u2502  (T4 GPU)  \u2502\n              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                     \u2502              \u2502              \u2502\n                     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                    \u2502\n                     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                     \u2502                             \u2502\n                     \u25bc                             \u25bc\n              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n              \u2502  Qdrant    \u2502              \u2502   Neo4j    \u2502\n              \u2502  Cluster   \u2502              \u2502  Cluster   \u2502\n              \u2502 (Sharded)  \u2502              \u2502 (Replicas) \u2502\n              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                     \u2502                             \u2502\n                     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                   \u2502\n                                   \u25bc\n                            \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                            \u2502   Redis    \u2502\n                            \u2502  (Cache)   \u2502\n                            \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518",
      "mermaid": "graph TD\n    A0[\"Load Balancer\"]\n    A1[\"(NGINX/HAProxy)\"]\n    A0 --> A1\n    A2[\"\u2502\"]\n    A1 --> A2\n    A3[\"API Server\"]\n    A2 --> A3\n    A6[\"(Actix)\"]\n    A5 --> A6\n    A9[\"+ MCP\"]\n    A8 --> A9\n    A14[\"GPU Node 1\"]\n    A13 --> A14\n    A15[\"GPU Node 2\"]\n    A14 --> A15\n    A16[\"GPU Node N\"]\n    A15 --> A16\n    A17[\"(T4 GPU)\"]\n    A16 --> A17\n    A21[\"Qdrant\"]\n    A20 --> A21\n    A22[\"Neo4j\"]\n    A21 --> A22\n    A23[\"Cluster\"]\n    A22 --> A23\n    A25[\"(Sharded)\"]\n    A24 --> A25\n    A26[\"(Replicas)\"]\n    A25 --> A26\n    A27[\"Redis\"]\n    A26 --> A27\n    A28[\"(Cache)\"]\n    A27 --> A28",
      "confidence": 0.95
    },
    {
      "file": "ARCHITECTURE.md",
      "start_line": 1048,
      "end_line": 1055,
      "diagram_type": "system",
      "original": "      \u2502                            \u2502                          \u2502\n      \u251c\u2500 API Servers (3\u00d7)          \u251c\u2500 API Servers (3\u00d7)       \u251c\u2500 API Servers (3\u00d7)\n      \u251c\u2500 GPU Nodes (4\u00d7)            \u251c\u2500 GPU Nodes (4\u00d7)         \u251c\u2500 GPU Nodes (4\u00d7)\n      \u251c\u2500 Qdrant Shard 1            \u251c\u2500 Qdrant Shard 2         \u251c\u2500 Qdrant Shard 3\n      \u2514\u2500 Neo4j Replica 1           \u2514\u2500 Neo4j Replica 2        \u2514\u2500 Neo4j Replica 3\n              \u2502                            \u2502                          \u2502\n              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                           \u2502",
      "mermaid": "graph TD\n    A0[\"\u2502\"]",
      "confidence": 0.95
    }
  ]
}